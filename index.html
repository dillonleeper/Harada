<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Harada Open Window 64 – Dillon</title>
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0f172a;
      color: #e5e7eb;
    }

    body {
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    h1 {
      font-size: 1.8rem;
      margin: 0;
      text-align: center;
    }

    .subtitle {
      font-size: 0.95rem;
      color: #9ca3af;
      text-align: center;
      max-width: 700px;
    }

    .grid-wrapper {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, auto);
      gap: 8px;
      max-width: 980px;
      width: 100%;
    }

    .pillar-box, .center-box {
      border: 1px solid #374151;
      border-radius: 8px;
      padding: 6px;
      background: #020617;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .pillar-title {
      font-size: 0.8rem;
      font-weight: 600;
      text-align: center;
      padding: 2px 4px;
      border-radius: 6px;
      background: #111827;
      border: 1px solid #1f2937;
    }

    .center-goal {
      font-size: 0.85rem;
      text-align: center;
      padding: 8px;
      border-radius: 8px;
      background: radial-gradient(circle at top, #1d4ed8, #020617 60%);
      border: 1px solid #1d4ed8;
      line-height: 1.4;
    }

    .subpillars-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 4px;
      margin-top: 8px;
    }

    .subpillar-cell {
      font-size: 0.65rem;
      padding: 4px 5px;
      border-radius: 9999px;
      border: 1px solid #1f2937;
      background: #020617;
      text-align: center;
      line-height: 1.25;
      white-space: normal;
    }

    .tasks-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 4px;
      margin-top: 4px;
    }

    .task-cell {
      font-size: 0.72rem;
      line-height: 1.2;
      padding: 6px;
      border-radius: 6px;
      border: 1px solid #1f2937;
      background: #020617;
      cursor: pointer;
      user-select: none;
      min-height: 40px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      position: relative;
      transition: background 0.15s ease, border-color 0.15s ease, transform 0.05s ease;
    }

    .task-cell:hover {
      border-color: #4b5563;
      transform: translateY(-1px);
    }

    .task-cell.completed {
      background: #16a34a22;
      border-color: #22c55e;
      text-decoration: line-through;
    }

    .task-cell.completed::after {
      content: "✔";
      position: absolute;
      right: 6px;
      top: 4px;
      font-size: 0.8rem;
      color: #22c55e;
    }

    .meta {
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: center;
    }

    .stats {
      max-width: 980px;
      width: 100%;
      background: #020617;
      border-radius: 10px;
      border: 1px solid #1f2937;
      padding: 12px 14px;
    }

    .stats h2 {
      font-size: 1rem;
      margin: 0 0 8px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }

    th, td {
      border: 1px solid #1f2937;
      padding: 6px 8px;
      text-align: left;
    }

    th {
      background: #111827;
    }

    tr:nth-child(even) td {
      background: #020617;
    }

    tr:nth-child(odd) td {
      background: #030712;
    }

    .stats-summary {
      margin-top: 8px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .today {
      font-weight: 600;
      color: #e5e7eb;
    }

    @media (max-width: 900px) {
      .grid-wrapper {
        grid-template-columns: 1fr;
        grid-template-rows: auto;
      }
    }
  </style>
</head>
<body>
  <h1>Harada Open Window 64</h1>
  <div class="subtitle">
    Central Goal: <strong>Achieve financial independence through creativity + tech</strong><br>
    Click tasks to mark them complete for today. A new day resets checkmarks but keeps lifetime stats.
  </div>
  <div class="meta" id="dateDisplay"></div>

  <div class="grid-wrapper" id="gridWrapper">
    <!-- Pillars & center will be injected here by JavaScript -->
  </div>

  <div class="stats">
    <h2>Progress Overview</h2>
    <table>
      <thead>
        <tr>
          <th>Pillar</th>
          <th>Tasks Completed Today</th>
          <th>Total Completions (All Time)</th>
        </tr>
      </thead>
      <tbody id="statsBody"></tbody>
    </table>
    <div class="stats-summary" id="statsSummary"></div>
  </div>

  <script>
    const pillars = [
      {
        id: "P1",
        name: "Skill & Craft Mastery",
        tasks: [
          "Line control drill: 20 minutes of slow, clean lines, ellipses, and curves",
          "Form & perspective drill: draw 3–5 simple objects from different angles",
          "Lighting & values drill: 1 small study with clear light and shadow",
          "Composition drill: 3–5 tiny thumbnails exploring framing and balance",
          "Gesture & anatomy drill: 10 quick figure gestures (30–60 seconds)",
          "Edge & texture drill: 1 study focusing on sharp vs soft edges",
          "Reference translation drill: simplify 1 photo into clear graphic shapes",
          "Refinement drill: pick 1 of today's studies and push it 10% cleaner"
        ]
      },
      {
        id: "P2",
        name: "Technical Leverage (AI / Code / Data)",
        tasks: [
          "Core code block: 30 minutes focused on SellerIQ or core projects (no distractions)",
          "Database drill: write or refine 1 SQL/query tied to real business data",
          "TypeScript drill: add or tighten types in 1 module",
          "LLM prompt drill: improve 1 system/prompt template and test it",
          "Bug/error drill: fix or attempt to fix 1 bug, warning, or rough edge",
          "Reading rep: read 1 doc/page about a tool you're using and note 1 takeaway",
          "Scenario test: run 1 real-world question through the app and observe the output",
          "Architecture check: update or sketch how data flows through your system"
        ]
      },
      {
        id: "P3",
        name: "Career Money Systems",
        tasks: [
          "Impact log: document 1 concrete result or win from your work",
          "Resume/portfolio rep: improve 1 bullet, case study, or screenshot",
          "Interview story drill: rehearse 1 STAR story out loud",
          "Skill gap rep: 20 minutes practicing a skill needed for your next role",
          "Visibility rep: share 1 useful update, insight, or help with your team",
          "Network rep: touch 1 relationship in your field (DM, comment, or email)",
          "Promotion map check: review expectations for your target level and note 1 action",
          "Opportunity pipeline: add or review 1 target company or role on your list"
        ]
      },
      {
        id: "P4",
        name: "SaaS / Business Systems",
        tasks: [
          "CSV pipeline build: write or refine code that parses, validates, or stores CSV orders",
          "Sample data rep: load or clean 1 real CSV and verify it's usable",
          "Metrics mapping: define or refine 1 business metric (e.g., TACoS, profit) in your schema",
          "Chat UI rep: improve or wire 1 part of the SellerIQ chat interface",
          "LLM query drill: add or refine 1 question type the assistant must answer well",
          "User scenario test: simulate 1 seller's question and see how the system responds",
          "Positioning rep: write 1 clear sentence about SellerIQ's promise to sellers",
          "Outreach rep: identify or ping 1 potential user to eventually test SellerIQ"
        ]
      },
      {
        id: "P5",
        name: "Art Business Systems",
        tasks: [
          "Idea bank rep: add at least 1 Pixzo content idea (visual + story angle)",
          "Capture rep: film or screenshot at least 1 moment of your art process",
          "Edit rep: turn raw footage into 1 usable clip or sequence",
          "Story rep: write 1 caption or short narrative for a piece or WIP",
          "Publish rep: post 1 Pixzo piece (WIP, detail, or finished) to a platform",
          "Product rep: move 1 piece closer to sellable (format for print, merch, or store)",
          "Engagement rep: reply to comments/DMs or connect with 3 people around your art",
          "Cohesion check: review your grid/feed and note 1 improvement for visual consistency"
        ]
      },
      {
        id: "P6",
        name: "Brand & Audience",
        tasks: [
          "Daily signal: publish 1 thing that reflects your world (art, build log, or insight)",
          "Face/voice rep: show up once as a person (story, video, or voice note)",
          "Hook drill: write 1 headline or hook for current or future content",
          "Comment drill: leave 3 thoughtful comments where your people hang out",
          "Analytics rep: check performance of your last 1–2 posts and note 1 lesson",
          "Consistency rep: outline or schedule tomorrow's post",
          "Clarity rep: tweak 1 sentence in your bio, profile, or website for more precision",
          "Storyworld rep: add 1 note to the \"Dillon / Pixzo universe\" (themes, motifs, phrases)"
        ]
      },
      {
        id: "P7",
        name: "Health & Energy",
        tasks: [
          "Lift rep: complete today's planned gym session with intent (push / pull / legs)",
          "Protein rep: hit your daily protein target (e.g., 130g+)",
          "Calorie rep: eat at least 1 deliberate surplus meal built from whole foods",
          "Posture/mobility rep: 10 minutes on hips, hamstrings, or thoracic spine",
          "Hydration ritual: 16 oz water plus electrolytes in the morning",
          "Sleep rep: maintain ~7+ hours by logging sleep and wake times",
          "Weed boundary: respect your chosen THC cutoff or reduction target",
          "Recovery rep: 5–10 minutes of something that calms your nervous system"
        ]
      },
      {
        id: "P8",
        name: "Identity & Discipline",
        tasks: [
          "I start my day by touching my hardest meaningful task for at least 5 minutes",
          "I protect my first 30 minutes after waking from my phone",
          "I protect my last 30 minutes before sleep from my phone",
          "I keep at least 1 promise I made to myself today",
          "I speak to myself like a coach, not a critic, when I mess up",
          "I keep my environment intentional with a 5-minute reset of one area",
          "I treat people I care about with presence (1 undistracted moment or conversation)",
          "I review my Harada grid and choose 3 cells that define today's effort"
        ]
      }
    ];

    const STORAGE_TODAY_KEY = "haradaTodayState";
    const STORAGE_STATS_KEY = "haradaStatsAllTime";

    function getTodayString() {
      const d = new Date();
      const year = d.getFullYear();
      const month = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return `${year}-${month}-${day}`;
    }

    function formatPrettyDate() {
      const d = new Date();
      return d.toLocaleDateString(undefined, {
        weekday: "long",
        year: "numeric",
        month: "short",
        day: "numeric"
      });
    }

    let todayState = null;
    let statsAllTime = null;

    function loadState() {
      const today = getTodayString();
      const rawToday = localStorage.getItem(STORAGE_TODAY_KEY);
      const rawStats = localStorage.getItem(STORAGE_STATS_KEY);

      try {
        todayState = rawToday ? JSON.parse(rawToday) : null;
      } catch {
        todayState = null;
      }
      if (!todayState || todayState.date !== today) {
        todayState = { date: today, completed: {} };
        localStorage.setItem(STORAGE_TODAY_KEY, JSON.stringify(todayState));
      }

      try {
        statsAllTime = rawStats ? JSON.parse(rawStats) : null;
      } catch {
        statsAllTime = null;
      }
      if (!statsAllTime) {
        statsAllTime = {};
        localStorage.setItem(STORAGE_STATS_KEY, JSON.stringify(statsAllTime));
      }
    }

    function saveTodayState() {
      localStorage.setItem(STORAGE_TODAY_KEY, JSON.stringify(todayState));
    }

    function saveStats() {
      localStorage.setItem(STORAGE_STATS_KEY, JSON.stringify(statsAllTime));
    }

    function createPillarBox(pillar) {
      const box = document.createElement("div");
      box.className = "pillar-box";

      const title = document.createElement("div");
      title.className = "pillar-title";
      title.textContent = pillar.name;
      box.appendChild(title);

      const tasksGrid = document.createElement("div");
      tasksGrid.className = "tasks-grid";

      pillar.tasks.forEach((taskText, index) => {
        const cell = document.createElement("div");
        cell.className = "task-cell";
        const cellId = `${pillar.id}-T${index + 1}`;
        cell.dataset.id = cellId;
        cell.dataset.pillar = pillar.id;
        cell.textContent = taskText;

        if (todayState.completed[cellId]) {
          cell.classList.add("completed");
        }

        cell.addEventListener("click", () => {
          toggleTask(cell);
        });

        tasksGrid.appendChild(cell);
      });

      box.appendChild(tasksGrid);
      return box;
    }

    function createCenterBox() {
      const box = document.createElement("div");
      box.className = "center-box";

      const content = document.createElement("div");
      content.className = "center-goal";
      content.innerHTML = `
        <strong>Central Goal</strong><br>
        Achieve financial independence<br>
        through creativity + tech
      `;
      box.appendChild(content);

      const subGrid = document.createElement("div");
      subGrid.className = "subpillars-grid";

      pillars.forEach((p) => {
        const sub = document.createElement("div");
        sub.className = "subpillar-cell";
        sub.textContent = p.name;
        subGrid.appendChild(sub);
      });

      box.appendChild(subGrid);
      return box;
    }

    function renderGrid() {
      const gridWrapper = document.getElementById("gridWrapper");
      gridWrapper.innerHTML = "";

      const layoutOrder = ["P1", "P2", "P3", "P8", "CENTER", "P4", "P7", "P6", "P5"];

      layoutOrder.forEach((id) => {
        if (id === "CENTER") {
          gridWrapper.appendChild(createCenterBox());
        } else {
          const pillar = pillars.find((p) => p.id === id);
          gridWrapper.appendChild(createPillarBox(pillar));
        }
      });
    }

    function toggleTask(cell) {
      const cellId = cell.dataset.id;
      const isCompleted = !!todayState.completed[cellId];

      if (isCompleted) {
        delete todayState.completed[cellId];
        cell.classList.remove("completed");

        if (statsAllTime[cellId] && statsAllTime[cellId] > 0) {
          statsAllTime[cellId] -= 1;
        }
      } else {
        todayState.completed[cellId] = true;
        cell.classList.add("completed");
        statsAllTime[cellId] = (statsAllTime[cellId] || 0) + 1;
      }

      saveTodayState();
      saveStats();
      updateStatsUI();
    }

    function updateStatsUI() {
      const statsBody = document.getElementById("statsBody");
      const statsSummary = document.getElementById("statsSummary");
      statsBody.innerHTML = "";

      const pillarTotalsToday = {};
      const pillarTotalsAllTime = {};
      let totalToday = 0;
      let totalAllTime = 0;

      pillars.forEach((p) => {
        pillarTotalsToday[p.id] = 0;
        pillarTotalsAllTime[p.id] = 0;
      });

      Object.keys(todayState.completed).forEach((cellId) => {
        const [pillarId] = cellId.split("-");
        if (pillarTotalsToday[pillarId] !== undefined) {
          pillarTotalsToday[pillarId] += 1;
          totalToday += 1;
        }
      });

      Object.entries(statsAllTime).forEach(([cellId, count]) => {
        const [pillarId] = cellId.split("-");
        if (pillarTotalsAllTime[pillarId] !== undefined) {
          pillarTotalsAllTime[pillarId] += count;
          totalAllTime += count;
        }
      });

      pillars.forEach((p) => {
        const tr = document.createElement("tr");
        const tdName = document.createElement("td");
        const tdToday = document.createElement("td");
        const tdAll = document.createElement("td");

        tdName.textContent = p.name;
        tdToday.textContent = pillarTotalsToday[p.id];
        tdAll.textContent = pillarTotalsAllTime[p.id];

        tr.appendChild(tdName);
        tr.appendChild(tdToday);
        tr.appendChild(tdAll);
        statsBody.appendChild(tr);
      });

      statsSummary.innerHTML = `
        <span class="today">Today:</span> ${totalToday} tasks completed across all pillars.<br>
        <span class="today">All time:</span> ${totalAllTime} total task completions tracked.
      `;
    }

    function init() {
      loadState();
      document.getElementById("dateDisplay").textContent =
        "Today is " + formatPrettyDate() + " · Daily checkmarks reset automatically each new day.";
      renderGrid();
      updateStatsUI();
    }

    init();
  </script>
</body>
</html>